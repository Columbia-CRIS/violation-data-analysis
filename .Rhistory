class(x)
x <= 3
license()
x <- 3
x
664128/64
require(dplyr)
library(RcppRoll)
setwd("~/Git/violation-data-analysis")
if(!exists("accidents") | !exists("full.days_lost.accidents.date") | !exists("roll_over")) {
load("./San Antonio/raw_accidents_fine_viol.RData")
print("raw RData loaded")
}
# constant parameters
longest.period <- 3
actual.start.year <- 2000
end.year <- 2015
# generate accident_roll_over and death_roll_over
actual.accidents <- accidents %>% filter(is.element(inj_degr_desc, c("DAYS AWAY FROM WORK ONLY",
"DYS AWY FRM WRK & RESTRCTD ACT",
"DAYS RESTRICTED ACTIVITY ONLY",
"FATALITY",
"PERM TOT OR PERM PRTL DISABLTY",
"NO VALUE FOUND")))
actual.accidents["deaths"] <- 0
na.and.no.value.index <- is.element(actual.accidents$inj_degr_desc, "NO VALUE FOUND") & is.na(actual.accidents$days_lost)
actual.accidents[na.and.no.value.index, "days_restrict"] <- 0
actual.accidents[na.and.no.value.index, "days_lost"] <- 0
actual.accidents[which(actual.accidents$inj_degr_desc == "FATALITY"), "deaths"] <- 1
actual.accidents$ai_dt_actual_date <- strftime(actual.accidents$ai_dt, "%F")
rm(na.and.no.value.index, accidents)
quarter.level.num.days.lost <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_lost, na.rm = T))
days_lost_rollover <- roll_over(actual.accidents,
quarter.level.num.days.lost,
longest.period,
actual.start.year,
end.year)
rm(quarter.level.num.days.lost)
quarter.level.num.days.restrict <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_restrict, na.rm = T))
days_restrict_rollover <- roll_over(actual.accidents,
quarter.level.num.days.restrict,
longest.period,
actual.start.year,
end.year)
colnames(days_restrict_rollover)[4] <- "num.days.restrict"
rm(quarter.level.num.days.restrict)
quarter.level.num.deaths <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(deaths, na.rm = T))
death_rollover <- roll_over(actual.accidents,
quarter.level.num.deaths,
longest.period,
actual.start.year,
end.year)
colnames(death_rollover)[4] <- "num.deaths"
rm(quarter.level.num.deaths)
# cleanup violations
active_violation_rollover = full.days_lost.accidents.date %>%
select(mine_id, year, quarter, viol.quantity, last.quarter.y, last.year.y, last.three.years.y)
active_violation_rollover$active <- TRUE
# join accidents and violation
temp <- merge(days_lost_rollover, days_restrict_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, death_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, active_violation_rollover, by = c("mine_id","year","quarter"),all.x=TRUE)
temp[is.na(temp$active),]$active <- FALSE
temp[is.na(temp)] <- 0
# result
complete.active.quarters <- temp
colnames(complete.active.quarters) <-
c("mine_id", "year", "quarter",
"num.days.lost", "last.quarter.lost", "last.year.lost", "last.three.years.lost",
"num.days.restrict", "last.quarter.restrict", "last.year.restrict", "last.three.years.restrict",
"num.death", "last.quarter.death", "last.year.death", "last.three.years.death",
"viol.quantity", "last.quarter.viol", "last.year.viol", "last.three.years.viol",
"active")
complete.active.quarters <- complete.active.quarters[, c(1:3, 20, 4:19)]
save(complete.active.quarters, file="./San Antonio/result.RData")
rm(list=ls())
# Upper Big Branch: 4608436
# This is a temporary fix
# Inputs: raw accidents data and final data with only active mine-quarters
# Output: days lost, days restrict, deaths, and violations with only active mine-quarters
# setup
require(dplyr)
library(RcppRoll)
setwd("~/Git/violation-data-analysis")
# load accidents, violations, and function roll_over
if(!exists("accidents") | !exists("full.days_lost.accidents.date") | !exists("roll_over")) {
load("./San Antonio/data/raw_accidents_fine_viol.RData")
print("raw RData loaded")
}
# constant parameters
longest.period <- 3
actual.start.year <- 2000
end.year <- 2015
# generate accident_roll_over and death_roll_over
actual.accidents <- accidents %>% filter(is.element(inj_degr_desc, c("DAYS AWAY FROM WORK ONLY",
"DYS AWY FRM WRK & RESTRCTD ACT",
"DAYS RESTRICTED ACTIVITY ONLY",
"FATALITY",
"PERM TOT OR PERM PRTL DISABLTY",
"NO VALUE FOUND")))
actual.accidents["deaths"] <- 0
na.and.no.value.index <- is.element(actual.accidents$inj_degr_desc, "NO VALUE FOUND") & is.na(actual.accidents$days_lost)
actual.accidents[na.and.no.value.index, "days_restrict"] <- 0
actual.accidents[na.and.no.value.index, "days_lost"] <- 0
actual.accidents[which(actual.accidents$inj_degr_desc == "FATALITY"), "deaths"] <- 1
actual.accidents$ai_dt_actual_date <- strftime(actual.accidents$ai_dt, "%F")
rm(na.and.no.value.index, accidents)
quarter.level.num.days.lost <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_lost, na.rm = T))
days_lost_rollover <- roll_over(actual.accidents,
quarter.level.num.days.lost,
longest.period,
actual.start.year,
end.year)
rm(quarter.level.num.days.lost)
quarter.level.num.days.restrict <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_restrict, na.rm = T))
days_restrict_rollover <- roll_over(actual.accidents,
quarter.level.num.days.restrict,
longest.period,
actual.start.year,
end.year)
colnames(days_restrict_rollover)[4] <- "num.days.restrict"
rm(quarter.level.num.days.restrict)
quarter.level.num.deaths <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(deaths, na.rm = T))
death_rollover <- roll_over(actual.accidents,
quarter.level.num.deaths,
longest.period,
actual.start.year,
end.year)
colnames(death_rollover)[4] <- "num.deaths"
rm(quarter.level.num.deaths)
# cleanup violations
active_violation_rollover = full.days_lost.accidents.date %>%
select(mine_id, year, quarter, viol.quantity, last.quarter.y, last.year.y, last.three.years.y)
active_violation_rollover$active <- TRUE
# join accidents and violation
temp <- merge(days_lost_rollover, days_restrict_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, death_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, active_violation_rollover, by = c("mine_id","year","quarter"),all.x=TRUE)
temp[is.na(temp$active),]$active <- FALSE
temp[is.na(temp)] <- 0
# result
complete.active.quarters <- temp
colnames(complete.active.quarters) <-
c("mine_id", "year", "quarter",
"num.days.lost", "last.quarter.lost", "last.year.lost", "last.three.years.lost",
"num.days.restrict", "last.quarter.restrict", "last.year.restrict", "last.three.years.restrict",
"num.death", "last.quarter.death", "last.year.death", "last.three.years.death",
"viol.quantity", "last.quarter.viol", "last.year.viol", "last.three.years.viol",
"active")
complete.active.quarters <- complete.active.quarters[, c(1:3, 20, 4:19)]
save(complete.active.quarters, file="./San Antonio/output/result.RData")
mines <- read.csv("./San Antonio/data/msha_mine.csv", stringsAsFactors = F)
View(mines)
rm(list=ls())
if(!exists("accidents") | !exists("full.days_lost.accidents.date") | !exists("roll_over")) {
load("./San Antonio/data/raw_accidents_fine_viol.RData")
print("raw RData loaded")
}
require(dplyr)
mines <- read.csv("./San Antonio/data/msha_mine.csv", stringsAsFactors = F)
mines <- mines %>% select(mine_id, curr_mine_nm)
View(mines)
save.image("~/Git/violation-data-analysis/San Antonio/data/raw_accidents_fine_viol.RData")
# load accidents, violations, and function roll_over
if(!exists("accidents") | !exists("full.days_lost.accidents.date") | !exists("roll_over")) {
load("./San Antonio/data/raw_accidents_fine_viol.RData")
print("raw RData loaded")
}
# constant parameters
longest.period <- 3
actual.start.year <- 2000
end.year <- 2015
# generate accident_roll_over and death_roll_over
actual.accidents <- accidents %>% filter(is.element(inj_degr_desc, c("DAYS AWAY FROM WORK ONLY",
"DYS AWY FRM WRK & RESTRCTD ACT",
"DAYS RESTRICTED ACTIVITY ONLY",
"FATALITY",
"PERM TOT OR PERM PRTL DISABLTY",
"NO VALUE FOUND")))
actual.accidents["deaths"] <- 0
na.and.no.value.index <- is.element(actual.accidents$inj_degr_desc, "NO VALUE FOUND") & is.na(actual.accidents$days_lost)
actual.accidents[na.and.no.value.index, "days_restrict"] <- 0
actual.accidents[na.and.no.value.index, "days_lost"] <- 0
actual.accidents[which(actual.accidents$inj_degr_desc == "FATALITY"), "deaths"] <- 1
actual.accidents$ai_dt_actual_date <- strftime(actual.accidents$ai_dt, "%F")
rm(na.and.no.value.index, accidents)
quarter.level.num.days.lost <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_lost, na.rm = T))
days_lost_rollover <- roll_over(actual.accidents,
quarter.level.num.days.lost,
longest.period,
actual.start.year,
end.year)
rm(quarter.level.num.days.lost)
quarter.level.num.days.restrict <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(days_restrict, na.rm = T))
days_restrict_rollover <- roll_over(actual.accidents,
quarter.level.num.days.restrict,
longest.period,
actual.start.year,
end.year)
colnames(days_restrict_rollover)[4] <- "num.days.restrict"
rm(quarter.level.num.days.restrict)
quarter.level.num.deaths <- actual.accidents %>% group_by(mine_id, cal_qtr, cal_yr)%>%
summarize(base = sum(deaths, na.rm = T))
death_rollover <- roll_over(actual.accidents,
quarter.level.num.deaths,
longest.period,
actual.start.year,
end.year)
colnames(death_rollover)[4] <- "num.deaths"
rm(quarter.level.num.deaths)
# cleanup violations
active_violation_rollover = full.days_lost.accidents.date %>%
select(mine_id, year, quarter, viol.quantity, last.quarter.y, last.year.y, last.three.years.y)
active_violation_rollover$active <- TRUE
# join accidents and violation
temp <- merge(days_lost_rollover, days_restrict_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, death_rollover, by = c("mine_id","year","quarter"),all=TRUE)
temp[is.na(temp)] <- 0
temp <- merge(temp, active_violation_rollover, by = c("mine_id","year","quarter"),all.x=TRUE)
temp[is.na(temp$active),]$active <- FALSE
temp[is.na(temp)] <- 0
# result
complete.active.quarters <- temp
colnames(complete.active.quarters) <-
c("mine_id", "year", "quarter",
"num.days.lost", "last.quarter.lost", "last.year.lost", "last.three.years.lost",
"num.days.restrict", "last.quarter.restrict", "last.year.restrict", "last.three.years.restrict",
"num.death", "last.quarter.death", "last.year.death", "last.three.years.death",
"viol.quantity", "last.quarter.viol", "last.year.viol", "last.three.years.viol",
"active")
complete.active.quarters <- complete.active.quarters[, c(1:3, 20, 4:19)]
1
temp <- merge(temp, mines, by = "mine_id", all.x=TRUE)
View(temp)
complete.active.quarters <- temp
colnames(complete.active.quarters) <-
c("mine_id", "year", "quarter",
"num.days.lost", "last.quarter.lost", "last.year.lost", "last.three.years.lost",
"num.days.restrict", "last.quarter.restrict", "last.year.restrict", "last.three.years.restrict",
"num.death", "last.quarter.death", "last.year.death", "last.three.years.death",
"viol.quantity", "last.quarter.viol", "last.year.viol", "last.three.years.viol",
"active", "mine.name")
complete.active.quarters <- complete.active.quarters[, c(1, 21, 2:3, 20, 4:19)]
save(complete.active.quarters, file="./San Antonio/output/result.RData")
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
View(complete.active.quarters)
knitr::opts_chunk$set(echo = false)
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
setwd("~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
require(dplyr)
opts_knit$set(root.dir = "~/Git/violation-data-analysis")
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
require(dplyr)
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
rm(list=ls())
load("./San Antonio/output/result.RData")
head(complete.active.quarters)
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
require(dplyr)
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_chunk$set(echo = TRUE)
rm(list=ls())
require(dplyr)
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
knitr::opts_chunk$set(echo = FALSE)
rm(list=ls())
require(dplyr)
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
head(complete.active.quarters)
head(arrange(complete.active.quarters,desc(num.days.lost)), n = 50)
head(arrange(complete.active.quarters,desc(num.death)), n = 50)
complete.active.quarters %>% arrange(desc(num.deaths)) %>% select(mine.name, num.deaths)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death, active)
complete.active.quarters %>% arrange(desc(num.days.lost)) %>% select(mine.name, year, quarter, num.days.lost, active)
complete.active.quarters %>% arrange(desc(viol.quantity)) %>% select(mine.name, year, quarter, viol.quantity, active)
complete.active.quarters %>% arrange(desc(num.days.restrict)) %>% select(mine.name, year, quarter, num.days.restrict, active)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death, active, last.year.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death, active, last.quarter.viol, last.year.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death, active, last.quarter.viol, last.year.viol, last.three.years.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, year, quarter, num.death, last.quarter.viol, last.year.viol, last.three.years.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, quarter, num.death, last.quarter.viol, last.year.viol, last.three.years.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, viol.quantity, last.quarter.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol - last.quarter.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol / 4)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol) %>% head()
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol) %>% head(10)
1022/3/4
518/4
1563/443
1022/518
162/65
complete.active.quarters %>% filter(mine_id == 4608436) %>% head()
complete.active.quarters %>% filter(mine_id == 4608436) %>% head(64)
knitr::opts_chunk$set(echo = FALSE)
rm(list=ls())
require(dplyr)
knitr::opts_knit$set(root.dir = "~/Git/violation-data-analysis")
load("./San Antonio/output/result.RData")
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol) %>% head(10)
complete.active.quarters %>% filter(mine_id == 4608436) %>% head(64)
complete.active.quarters %>% filter(mine_id == 4608436) %>% head( )
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine_id, mine.name, num.death, last.quarter.viol, last.year.viol, last.three.years.viol) %>% head(10)
complete.active.quarters %>% filter(mine_id == 101322) %>% head()
complete.active.quarters %>% filter(mine_id == 101322) %>% head(10)
complete.active.quarters %>% arrange(desc(num.death)) %>% select(mine_id, mine.name, year, quarter, num.death) %>% head(10)
reg.lm <- lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost, data=complete.active.quarters)
summary(reg.lm)
summary(lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost, data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters ))
summary(lm(num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+2*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict+300*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict+1000*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict+50*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict+0*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+num.days.restrict+100*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+0.5*num.days.restrict+100*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+0.5*num.days.restrict+0*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+20*num.days.restrict+0*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(num.days.lost+1*num.days.restrict+0*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(1*num.days.lost+1*num.days.restrict+0*num.death~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(0*num.death+1*num.days.lost+1*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(1*num.death+1*num.days.lost+1*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+1*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.1*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.5*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.75*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.6*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(10*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(20*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(30*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(25*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
summary(lm(25*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
#+last.quarter.death+last.year.death+last.three.years.death
,
data=complete.active.quarters %>% filter(active)))
summary(lm(25*num.death+1*num.days.lost+0.7*num.days.restrict~last.quarter.lost+last.year.lost+last.three.years.lost
+last.quarter.restrict+last.year.restrict+last.three.years.restrict
+last.quarter.viol+last.year.viol+last.three.years.viol
+last.quarter.death+last.year.death+last.three.years.death,
data=complete.active.quarters %>% filter(active)))
